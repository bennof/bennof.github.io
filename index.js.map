{"version":3,"sources":["webpack://TR/webpack/universalModuleDefinition","webpack://TR/webpack/bootstrap","webpack://TR/./src/data/array.js","webpack://TR/./src/data/index.js","webpack://TR/./src/data/table.js","webpack://TR/./src/dox/file.js","webpack://TR/./src/dox/index.js","webpack://TR/./src/dox/url.js","webpack://TR/./src/io/file.js","webpack://TR/./src/io/index.js","webpack://TR/./src/io/loader.js","webpack://TR/./src/io/url.js","webpack://TR/./src/math/filter/index.js","webpack://TR/./src/math/index.js","webpack://TR/./src/math/plot.js","webpack://TR/./src/math/solver/index.js","webpack://TR/./src/math/stat/distributions/bernoulli.js","webpack://TR/./src/math/stat/distributions/binomial.js","webpack://TR/./src/math/stat/distributions/chi_squared.js","webpack://TR/./src/math/stat/gamma.js","webpack://TR/./src/math/stat/index.js","webpack://TR/./src/scss/simple.scss?6fe7","webpack://TR/./src/tabularrasa.js"],"names":["array_map","Fun","Arr","i","R","length","cmp","number","A","B","string","localeCompare","any","toString","Table","Name","Header","name","header","data","sorted","Data","push","Pos","undefined","r","Array","col","indexOf","offset","Target","Inputs","In","D","I","bind","apply","concat","Acc","Keys","Colum","Query","Cidx","Out","slice","Select","init","sort","Last","Cmp","idx","Value","Key","Idx","search","binsearch","Left","Right","Mid","Row","Obj","Object","keys","console","log","j","L","text","l","json","JSON","parse","Text","FS","No_Header","Last_Char","Field","Col","No_Quote","C","First_Row","pop","row","escape_csv","str","Esc","o","read","Filen","Type","Reader","FileReader","cb","onload","Event","target","result","onerror","error","code","readAsDataURL","readAsText","save","Mime","FileLink","document","createElement","startsWith","setAttribute","encodeURIComponent","btoa","createEvent","initEvent","dispatchEvent","click","load_inner_html","uri","load_data","e","innerHTML","exec_js","cTagLoader","forEach","load","cCodeView","update","cCalcValues","MathJax","typeset","Elem","elem","querySelectorAll","src","xhr","XMLHttpRequest","open","send","innerText","responseText","eval","call","window","Cb","onreadystatechange","readyState","status","Router","tag","querySelector","get_url","onhashchange","map","url","location","getAttribute","TagLoader","elems","CodeView","id","getElementById","CalcValues","val","header_map","Xhttp","HL","getAllResponseHeaders","trim","split","shift","join","hash_map","URL","R1","Res","Hash","hash","substr","decodeURIComponent","query_map","Url","html","clean_code","TagStore","router","Tag","Map","Src","Root","Elems","EntityMap","escape_html","String","replace","s","New","CodeElems","RFFT","size","mode","p_radix2","p_bluestein","out","inp","cosTable","sinTable","Math","cos","PI","sin","reverse_bits","levels","temp","real","imag","halfsize","tablestep","k","tpre","tpim","x","bits","y","new_array_0","n","fft_radix2","reverseBits","transformBluestein","m","areal","newArrayOfZeros","aimag","breal","bimag","creal","cimag","convolveComplex","convolveReal","xreal","ximag","yreal","yimag","outreal","outimag","transform","inverseTransform","Func","Str","func","args","start","end","step","a","seq","Chart","xMarkerPlugin","get_x_pos","chart","meta","getDatasetMeta","_model","draw_line","marker","xoffset","scale","scales","context","ctx","beginPath","strokeStyle","color","lineWidth","moveTo","top","lineTo","bottom","stroke","fillStyle","textAlign","fillText","title","afterDatasetsDraw","easing","config","xMarker","yMarkerPlugin","xscale","yscale","y_value","getPixelForValue","value","left","right","yMarker","plugins","register","Plot","labels","datasets","xmarker","ymarker","destroy","label","fcolor","type","borderColor","fill","options","responsive","maintainAspectRatio","NewtonSolver","df","X0","len","d","pdf","p","cdf","quantile","NaN","expected","variance","sqrt","choose","c","pows","pow","floor","_","reduce","prev","next","u","kl","ku","inc","max","min","Int","pe","exp","lngamma","gamma_inc_lower","inv_gamma_inc_lower","EPS","Number","EPSILON","FPMIN","MIN_VALUE","gamma","z","h","h2","g","p_ln","sum","err","t","pp","lna1","afac","a1","gln","fabs","tau","sqrt2","s2pi","is2pi","erf","cnorm","mu","sig","norm","boxmullerrand","v","random","dnorm","pnorm","rnorm","floating_mean","chi_squared_value","X","Y","chi2","linear_regression","xm","ym","sx","sx2","sy","sxy","b","hh","f","toFixed","err_a","err_b","exponential_regression"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TR\"] = factory();\n\telse\n\t\troot[\"TR\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/tabularrasa.js\");\n","/* Tabular Rasa JS Data Array Functions\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/data/array\n*/\n\nexport function array_map(Fun,Arr){\n    var i, R = [];\n    for (i=0;i<Arr.length;i++)\n        R[i] = Fun(Arr[i],i);\n    return R;\n};","/* Tabular Rasa JS Data Functions\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/data\n*/\n\nimport * as table from \"./table\";\nimport {array_map} from \"./array\";\n\n\nexport {\n    table,\n    array_map\n};\n\n","/* Tabular Rasa JS Data Table\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/data/table\n*/\n\nimport {array_map} from \"./array.js\";\n\nexport const cmp ={ \n    number: function(A, B) { return A-B; },\n    string: function(A, B) { return A.localeCompare(B); },\n    any: function(A, B) { return A.toString().localeCompare(B.toString()); }\n}\n\nexport class Table {\n\n    constructor(Name, Header){\n        this.name = Name;\n        this.header = Header || [];\n        this.data = [];\n        this.sorted = -1; // sorted column\n    }\n\n    clear() {\n        this.data = [];\n        this.sorted = -1;\n    }\n\n    length() {\n        return this.data.length;\n    }\n\n    add_colum(Name,Data) {\n        this.header.push(Name);\n        var Pos = this.header.length -1;\n        for (var i=0;i<this.data.length; i++){\n            if(Data && Data[i]) {\n                this.data[i][Pos] = Data[i];\n            } else {\n                this.data[i][Pos] = undefined;\n            }\n        }\n    }\n\n    get_colum (name) {\n        var i, r = new Array(this.data.length), col = (typeof name == \"string\") ? this.header.indexOf(name) : name;\n        for( i=0; i<this.data.length; i++){\n            r[i] = this.data[i][col];\n        }\n        return r;\n    }\n\n    map(Fun, offset, length) {\n        if (length == undefined || length > this.data.length || length < 0) length = this.data.length;\n        if (offset == undefined) offset = 0;\n        var Data = this.data, i;\n        for (i = offset; i < length; i++) {\n            Data[i] = Fun(Data[i],i);\n        }\n    }\n\n    map2(Fun, Target, offset, length){\n        if (length == undefined || length > this.data.length) length = this.data.length;\n        if (offset == undefined) offset = 0;\n        var i, Data = this.data, col = (typeof Target == \"string\") ? this.header.indexOf(Target) : Target;\n        for (i=offset;i<length;i++){\n            Data[i][col] = Fun(Data[i],i);\n        }\n    }\n\n    map3(Fun,Target,Inputs, offset, length){\n        if (length == undefined || length > this.data.length) length = this.data.length;\n        if (offset == undefined) offset = 0;\n        var Data = this.data, i, B,\n            In = array_map(function(D){\n                return (typeof D == \"string\") ? this.header.indexOf(D) : D; },Inputs),\n            col = (typeof D == \"string\") ? this.header.indexOf(Target) : Target;\n        for (i=offset;i<length;i++){\n            B = array_map( function(I){return this[I];}.bind(Data[i]),In);\n            Data[i][col] = Fun.apply(null,[Data[i]].concat(B));\n        }\n    }\n      \n    fold(Fun, Acc){\n        var Data = this.data, i;\n        for (i = 0; i < Keys.length; i++) {\n            Acc = Fun(Data[i],Acc);\n        }\n        return Acc;\n    }\n\n    fold3(Fun, Acc, Inputs) {\n        var Data = this.data, i, B,\n            In = array_map(function(D){\n                return (typeof D == \"string\") ? this.header.indexOf(D) : D; },Inputs);\n        for (i = 0; i < Data.length; i++) {\n            B = array_map( function(I){return this[I];}.bind(Data[i]),In);\n            B.push(Acc);\n            Acc = Fun.apply(null,B);\n        }\n        return Acc;\n    }\n\n    filter(Fun,Colum,Query){\n        var Cidx = (typeof Colum === \"string\" ) ? this.header.indexOf(Colum) : Colum;\n        var Out = new Table(this.name+\" filter\",this.header.slice(0));\n        var Data = this.data, i;\n        if (Colum){\n            for (i = 0; i < Data.length; i++) {\n                if (0 == Fun(Data[i][Cidx],Query))\n                    Out.data.push(Data[i]);\n            }\n        } else {\n            for (i = 0; i < Data.length; i++) {\n                if (0 == Fun(Data[i],Query))\n                    Out.data.push(Data[i]);\n            }\n        }\n        return Out;\n    }\n      \n    select(Fun,Select,Query){\n        var Data = this.data, i, B, R,\n            In = array_map(function(D){\n                return (typeof D == \"string\") ? header.indexOf(D) : D; },Select);\n        var Out = init(this.name+\" filter\",array_map(function(I){return this.header[I]},In));\n        for (i = 0; i < Data.length; i++) {\n            B = array_map( function(I){return this[I];}.bind(Data[i]),In);\n            B.push(Query);\n            R = Fun.apply(null,B);\n            if(R)\n                Out.data.push(R);\n        }\n        return Out;\n    }\n\n    reduce(Fun,Colum){\n        var Cidx = (typeof Colum === \"string\" ) ? this.header.indexOf(Colum) : Colum;\n        if (!this.sorted || this.sorted != Cidx)\n            this.sort(Fun,Cidx);\n        var Data = this.data, i;\n        var Last=Data[0][Cidx], Out = new Table(this.name+\" reduce \"+Colum,this.header.slice(0));\n        Out.data.push(Data[0]);\n        for (i = 1; i < Data.length; i++) {\n            if (0 != Fun(Data[i][Cidx],Last))\n                Out.data.push(Data[i]);\n            Last = Data[i][Cidx];\n        }\n        return Out;\n    }\n      \n    sort(Fun, Colum){\n        var Cidx = (typeof Colum === \"string\" ) ? this.header.indexOf(Colum) : Colum;\n        var Cmp = function(A,B) {\n            return this.cmp(A[this.idx],B[this.idx]);\n        }\n        this.data = this.data.sort(Cmp.bind({idx: Cidx, cmp: Fun}));\n        this.sorted = Cidx;\n        return Cidx;\n    }\n      \n    search_and_get(Fun,Value,Colum,Key){\n        var Idx = this.search(Fun,Value,Colum);\n        if (Idx >= 0) {\n            var Cidx = (typeof Key === \"string\" ) ? this.header.indexOf(Key) : Key;\n            return this.data[Idx][Cidx];\n        }\n    }\n      \n    search(Fun,Value,Colum){\n        var Cidx;\n        if (typeof Colum === \"string\" )\n            Cidx = this.header.indexOf(Colum);\n        else\n            Cidx = Colum;\n        if( this.sorted && this.sorted == Cidx ){ //binary binsearch\n            return this.binsearch(Fun, Value, Cidx);\n        } else {\n            var i, Data=this.data;\n            for (i=0; i<Data.length; i++){\n                if(0 == Fun(Data[i][Cidx],Value)){\n                    return i;\n                }\n            }\n        }\n        return -1;\n    }\n      \n    binary_search(Fun,Value,Colum){\n        var Cidx = (typeof Colum === \"string\" ) ? this.header.indexOf(Colum) : Colum;\n        if (!this.sorted || this.sorted != Cidx)\n            sort(Fun,Cidx,this);\n        return this.binsearch(Fun, Value, Cidx);\n    }\n      \n    binsearch(Fun, Value, Cidx){\n        var Left = 0, Right = this.data.length - 1, Mid, R, Data = this.data;\n        while (Left <= Right) { // Interval\n          Mid = Left + ((Right - Left) / 2); // half interval\n          //console.log(Value,Data[Mid]);\n          R = Fun(Value,Data[Mid][Cidx]);\n          if (R == 0) // success\n            return Mid;\n          else\n            if (R < 0) // lower interval\n              Right = Mid - 1;\n            else // higher interval\n              Left = Mid + 1;\n        }\n        return -1;\n    }\n\n    get_row_obj(Row){\n        var Obj = {};\n        for(var i=0; i<this.header.length; i++){\n            Obj[this.header[i]] = this.data[Row][i];\n        }\n        return Obj\n    }\n\n    add_row_obj(Obj,Idx = -1) {\n        var Keys = Object.keys(Obj);\n        if (Idx < 0){\n            Idx = this.data.length;\n            this.data.push(new Array(this.header.length));\n        }\n\n        for(var i=0; i<Keys.length; i++ ){\n            var Pos = this.header.indexOf(Keys[i]);\n            if(Pos == -1){\n                console.log(\"TR_Table: Missing key: \"+Keys[i]);\n            } else {\n                this.data[Idx][Pos] = Obj[Keys[i]];\n            }\n        }\n    }\n     \n    add_obj_array(Obj) {\n         var i,j, L, Keys, Idx;\n         for(i=0; i<Obj.length; i++){\n            L = new Array(this.header.length);\n            Keys = Object.keys(Obj[i]);\n            for(j=0; j<Keys.length; j++ ){\n                Idx = this.header.indexOf(Keys[j]);\n                if (Idx >=0 ) {\n                    L[Idx] = Obj[i][Keys[j]];\n                }\n            }\n            this.data.push(L);\n        }\n    }\n\n    read_json(text) {\n        var l, i, j, json = JSON.parse(text);\n        for(i=0; i < json.length; i++){\n            l = new Array(this.header.length);\n            for(j=0; j<this.header.length; j++ ){\n                l[j] = json[i][this.header[j]];\n            }\n            this.data.push(l);\n        }\n        \n    }\n\n    read_csv(Text, FS, No_Header) {\n        var Last_Char = \"\", Field = \"\", Obj = [\"\"], Col = 0, Row = 0, No_Quote = !0, C, j, First_Row = (No_Header)? 0 : !0;\n        this.data = [];\n        this.header = [];\n        this.sorted = -1;\n        this.data.push(Obj);\n    \n        for (j = 0; j < Text.length; j++) {\n            C = Text[j]; //get current char\n            if (\"\\\"\" === C) { // if quote\n                if (No_Quote && C === Last_Char)\n                    Field += C; // if previous was a quote add quote to field string\n                No_Quote = !No_Quote; // switch boolean\n            }\n            else if (FS === C && No_Quote) { // if not quoted FS\n                if (First_Row) {\n                    this.header[Col++] = Field;\n                }\n                else {\n                    Obj[Col++] = Field;\n                }\n                C = Field = \"\";\n            }\n            else if (\"\\n\" === C && No_Quote) { // if not quoted line end\n                    if (\"\\r\" === Last_Char)\n                        Field = Field.slice(0, -1); //remove carriage return\n                    if (First_Row) {\n                        First_Row = !First_Row;\n                        this.header[Col] = Field;\n                        C = Field = \"\";\n                    }\n                    else {\n                        Obj[Col] = Field;\n                        this.data[++Row] = Obj = [];\n                    }\n                    C = Field = \"\";\n                    Col = 0;\n                }\n                else {\n                    Field += C;\n                }\n                Last_Char = C;\n        }\n        if (Col != 0) {\n            Obj[Col] = Field;\n        }\n        if (Obj.length != this.header.length)\n            this.data.pop();\n    }\n    \n    write_csv(FS) {\n        var text = \"\", row;\n        if (this.header) {\n            for (var i = 0; i < this.header.length; i++) {\n                if (i > 0)\n                    text += FS;\n                text += escape_csv(this.header[i], FS);\n            }\n            text += \"\\r\\n\";\n        }\n        for (var i = 0; i < this.data.length; i++) {\n            row = this.data[i];\n            for (var j = 0; j < row.length; j++) {\n                if (j > 0)\n                    text += FS;\n                text += escape_csv(str(row[j]), FS);\n            }\n            text += \"\\r\\n\";\n        }\n        return text;\n    }\n};\n\nfunction escape_csv(Value, FS) {\n    var R = \"\", C, Esc = false;\n    if (!Value)\n        return \"\";\n    for (var j = 0; j < Value.length; j++) {\n        C = Value[j];\n        if (C == \"\\\"\") {\n            R += C;\n            R += C;\n            Esc = true;\n        }\n        else if (C == \"\\n\" || C == \"\\r\" || C == FS) {\n            R += C;\n            Esc = true;\n        }\n        else {\n            R += C;\n        }\n    }\n    if (Esc) {\n        return \"\\\"\" + R + \"\\\"\";\n    }\n    else {\n        return R;\n    }\n}\n\nfunction str(o) {\n    switch (o) {\n        case null:\n          return \"null\";\n        case undefined:\n          return \"undefined\";\n        default:\n          return o.toString();\n    }\n}","/* Tabular Rasa JS DOX File\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/dox/file\n*/\n\n/**\n* read a file\n* @param {Function} Fun Callback function (State,Data)\n* @param {File} Filen a file object\n* @param {String} Type optional datatype\n*/\nexport function read(Fun,Filen,Type){\n    var Reader = new FileReader();\n    Reader.cb = Fun;\n    Reader.onload = function(Event) {\n        this.cb(200,Event.target.result);\n    };\n    Reader.onerror = function(Event) {\n        this.cb(404,Event.target.error.code);\n    };\n    if(Type == \"DataURL\")\n        Reader.readAsDataURL(Filen);\n    else\n        Reader.readAsText(Filen);\n};\n\n/**\n* save file as download\n* @param Filen Filename\n* @param Mime  Mimetype\n* @param Data  data string or blob\n**/\nexport function save(Filen, Mime, Data) { // Mime text/csv;charset=utf-8\n    var FileLink = document.createElement('a');\n    if (Mime.startsWith('text'))\n        FileLink.setAttribute('href', 'data:'+Mime+',' + encodeURIComponent(Data));\n    else\n        FileLink.setAttribute('href', 'data:'+Mime+',' + btoa(Data));\n    FileLink.setAttribute('download', Filen);\n  \n    if (document.createEvent) {\n        var Event = document.createEvent('MouseEvents');\n        Event.initEvent('click', true, true);\n        FileLink.dispatchEvent(Event);\n    } else {\n        FileLink.click();\n    }\n}","/* Tabular Rasa JS DOX\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/dox\n*/\n\n\nimport * as url from \"./url\";\nimport * as file from \"./file\";\n\n// load html from url and insert to target\nfunction load_inner_html(uri,target) {\n    load_data(uri, function(e){\n        target.innerHTML = e;\n        exec_js(target);\n        cTagLoader.forEach(l => l.load(target) );\n        cCodeView.forEach(l => l.update(target) );\n        cCalcValues.forEach(l => l.update(target) );\n        if (typeof MathJax != \"undefined\") \n            MathJax.typeset();\n    });\n};\n\nfunction exec_js(Elem){\n    var elem = Elem.querySelectorAll('SCRIPT');\n    elem.forEach( function(e) {\n        if(e.src != \"\") {\n            var xhr = new XMLHttpRequest();\n            xhr.open(\"GET\", e.src, false);  // synchronous request\n            xhr.send(null);\n            e.innerText = xhr.responseText;\n        }\n        eval.call(window,e.innerText);\n    });\n}\n\n// load data from url and pass to callback\nfunction load_data(uri,Cb) {\n    var xhr = new XMLHttpRequest();\n    xhr.onreadystatechange = function (e) {\n        if (xhr.readyState == 4){\n            if (xhr.status == 200) {\n                Cb(xhr.responseText);\n            } else {\n                console.log(\"Error: (\"+xhr.status+\")\");\n            }\n        }\n    };\n    xhr.open('GET', uri, true);\n    xhr.send();\n};\n\nclass Router {\n    constructor(tag = \"hash-router\"){\n        this.tag = tag;\n        this.target = document.querySelector('['+tag+']');\n        this.get_url();\n\n        window.onhashchange = this.get_url.bind(this);\n    }\n\n    get_url() {\n        var map = url.hash_map(window.location);\n        var uri = (map[this.tag])? map[this.tag] : this.target.getAttribute(this.tag);\n        console.log(\"URL:\" + uri);\n        load_inner_html(uri,this.target);\n    }\n} \n\nconst cTagLoader = [];\nclass TagLoader {\n    constructor(target = document, tag = \"html-data\"){\n        this.tag = tag;\n        cTagLoader.push(this);\n        this.load(target);\n    }\n\n    load(target = document) {\n        var i, elem, uri, elems = target.querySelectorAll('['+this.tag+']');\n        for ( i=0; i<elems.length; i++ ){\n            elem = elems[i];\n            uri = elem.getAttribute(this.tag);\n            load_inner_html(uri,elem)\n        }\n    }\n}\n\nconst cCodeView = [];\nclass CodeView {\n    constructor(target = document, tag = \"script\"){\n        this.tag = tag;\n        cCodeView.push(this);\n        this.update(target);\n    }\n\n    update(target = document){\n        var i, elem, id, elems = target.querySelectorAll('code['+this.tag+']');\n        for ( i=0; i<elems.length; i++ ){\n            elem = elems[i];\n            id = elem.getAttribute(this.tag);\n            elem.innerText = document.getElementById(id).innerText;\n        }\n    }\n};\n\nconst cCalcValues = [];\nclass CalcValues{\n    constructor(target = document, tag = \"calc\"){\n        this.tag = tag;\n        cCalcValues.push(this);\n        this.update(target);\n    }\n\n    update(target = document){\n        var i, elem, val, elems = target.querySelectorAll('['+this.tag+']');\n        for ( i=0; i<elems.length; i++ ){\n            elem = elems[i];\n            val = elem.getAttribute(this.tag);\n            elem.innerHTML = eval.call(window,val);\n        }\n    }\n}\n\nexport {\n    //file,\n    Router,\n    TagLoader,\n    CodeView,\n    CalcValues,\n    url,\n    file\n};\n","/* Tabular Rasa JS DOX URL\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/dox/url\n*/\n\n// scan header\nexport function header_map(Xhttp){\n    var i, Elem, Key, Value, R={}, HL = Xhttp.getAllResponseHeaders().trim().split(/[\\r\\n]+/);\n    for ( i=0; i<HL.length; i++ ) {\n        Elem = HL[i].split(': ');\n        Key   = Elem.shift();\n        Value = Elem.join(': ');\n        R[Key] = Value;\n    }\n    return R;\n}\n  \nexport function hash_map(URL){\n    var i, R1, Res={}, Hash = (URL.hash.substr(1)).split(\"&\");\n    for (i=0; i<Hash.length; i++) {\n        R1 = Hash[i].split(\"=\");\n        Res[R1[0]]=decodeURIComponent(R1[1]) || R1[0];\n    }\n    return Res;\n}\n  \n// window.location\nexport function query_map(URL){\n    var i, R1, Res={}, Query = (URL.search.substr(1)).split(\"&\");\n    for (i=0; i<Query.length; i++) {\n        R1 = Query[i].split(\"=\");\n        Res[R1[0]]=R1[1] || R1[0];\n    }\n    return Res;\n}","/* Tabular Rasa JS IO File\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/io/file\n*/\n\n/**\n* read a file\n* @param {Function} Fun Callback function (State,Data)\n* @param {File} Filen a file object\n* @param {String} Type optional datatype\n*/\nexport function read(Fun,Filen,Type){\n    var Reader = new FileReader();\n    Reader.cb = Fun;\n    Reader.onload = function(Event) {\n        this.cb(200,Event.target.result);\n    };\n    Reader.onerror = function(Event) {\n        this.cb(404,Event.target.error.code);\n    };\n    if(Type == \"DataURL\")\n        Reader.readAsDataURL(Filen);\n    else\n        Reader.readAsText(Filen);\n};\n\n/**\n* save file as download\n* @param Filen Filename\n* @param Mime  Mimetype\n* @param Data  data string or blob\n**/\nexport function save(Filen, Mime, Data) { // Mime text/csv;charset=utf-8\n    var FileLink = document.createElement('a');\n    if (Mime.startsWith('text'))\n        FileLink.setAttribute('href', 'data:'+Mime+',' + encodeURIComponent(Data));\n    else\n        FileLink.setAttribute('href', 'data:'+Mime+',' + btoa(Data));\n    FileLink.setAttribute('download', Filen);\n  \n    if (document.createEvent) {\n        var Event = document.createEvent('MouseEvents');\n        Event.initEvent('click', true, true);\n        FileLink.dispatchEvent(Event);\n    } else {\n        FileLink.click();\n    }\n}","/* Tabular Rasa JS IO Functions\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/io\n*/\n\nimport * as file from \"./file\";\nimport * as loader from \"./loader\";\nimport * as url from \"./url\";\n\n\nexport {\n    file,\n    loader,\n    url\n};","/* Tabular Rasa JS IO Loader\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/io/loader\n*/\n\nimport {hash_map} from \"./url.js\";\n\n// load json from url and pass to callback\nexport function json(Url, Cb) {\n    data(Url,function (e){\n        Cb(JSON.parse(e));\n    });\n};\n\n// load html from url and insert to target\nexport function html(Url,Target) {\n    data(Url, function(e){\n        Target.innerHTML = e;\n        clean_code(Target,'clean-code');\n        exec_js(Target);\n        if (TagStore) tag(TagStore,Target);\n    });\n};\n\nfunction exec_js(Elem){\n    var elem = Elem.querySelectorAll('SCRIPT');\n    elem.forEach(function(e) {\n        eval.call(window,e.innerText);\n    });\n}\n\n// load data from url and pass to callback\nexport function data(Url,Cb) {\n    var xhr = new XMLHttpRequest();\n    xhr.onreadystatechange = function (e) {\n        if (xhr.readyState == 4){\n            if (xhr.status == 200) {\n                Cb(xhr.responseText);\n            } else {\n                console.log(\"Error: (\"+xhr.status+\")\");\n            }\n        }\n    };\n    xhr.open('GET', Url, true);\n    xhr.send();\n};\n\nexport function router(Tag){ // Tag: 'tr-router'\n    var Elem = document.querySelector('['+Tag+']');\n    var Map = hash_map(window.location);\n    var Src = (Map[Tag])? Map[Tag]+\".html\" : Elem.getAttribute(Tag);\n    // load default\n    html(Src,Elem);\n    // listen for changes\n    window.onhashchange = function () {\n        var Map = hash_map(window.location);\n        var Src = (Map[Tag])? Map[Tag]+\".html\" : Elem.getAttribute(Tag);\n        html(Src,Elem);\n    };\n};\n\n// load data once\nvar TagStore = null;\nexport function tag(Tag, Root = document) {\n    var i, Elem, Url, Elems = Root.querySelectorAll('['+Tag+']');\n    TagStore = Tag;\n    for ( i=0; i<Elems.length; i++ ){\n        Elem = Elems[i];\n        Url = Elem.getAttribute(Tag);\n        html(Url,Elem);\n    }\n};\n\n\n\n// Create clean code\nvar EntityMap = {\"&\": \"&amp;\",\"<\": \"&lt;\",\">\": \"&gt;\",'\"': '&quot;',\"'\": '&#39;',\"/\": '&#x2F;'};\nfunction escape_html(string) { return String(string).replace(/[&<>\"'\\/]/g, function (s) { return EntityMap[s]; }); };\nexport function clean_code(Target) {\n    var i, Elem, New, CodeElems = Target.querySelectorAll('[clean-code]');\n    for(i=0; i<CodeElems.length; i++) {\n        Elem = CodeElems[i];\n        New = escape_html(Elem.innerHTML)\n        Elem.innerHTML = New;\n    }\n};","/* Tabular Rasa JS IO URL\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/io/url\n*/\n\n// scan header\nexport function header_map(Xhttp){\n    var i, Elem, Key, Value, R={}, HL = Xhttp.getAllResponseHeaders().trim().split(/[\\r\\n]+/);\n    for ( i=0; i<HL.length; i++ ) {\n        Elem = HL[i].split(': ');\n        Key   = Elem.shift();\n        Value = Elem.join(': ');\n        R[Key] = Value;\n    }\n    return R;\n}\n  \nexport function hash_map(URL){\n    var i, R1, Res={}, Hash = (URL.hash.substr(1)).split(\"&\");\n    for (i=0; i<Hash.length; i++) {\n        R1 = Hash[i].split(\"=\");\n        Res[R1[0]]=decodeURIComponent(R1[1]) || R1[0];\n    }\n    return Res;\n}\n  \n// window.location\nexport function query_map(URL){\n    var i, R1, Res={}, Query = (URL.search.substr(1)).split(\"&\");\n    for (i=0; i<Query.length; i++) {\n        R1 = Query[i].split(\"=\");\n        Res[R1[0]]=R1[1] || R1[0];\n    }\n    return Res;\n}","/* Tabular Rasa JS Math Filter\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module math/filter\n*/\n\n\n\nclass RFFT {\n    constructor(size){\n        this.size = size;\n        if ((size & (size - 1)) == 0) {\n            this.mode='Cooley-Tukey';\n            this.p_radix2(size);\n        } else {\n            this.mode='Bluestein';\n            this.p_bluestein(size);\n        }  \n    }\n\n    new_complx() {\n        return Array(2*(this.size/2+1));\n    }\n\n    fft(out,inp){\n        if( inp.length != this.size || out.length != 2*(inp.length/2+1))\n            return \"Error: size does not match\";\n\n        if(this.mode='Cooley-Tukey'){\n            \n        } else if(this.mode='Bluestein'){\n\n        } else return \"Error: unkown alg. \"+this.mode;\n\n        return  0;\n    }\n\n    ifft(out,inp) {\n        if( out.length != this.size || inp.length != 2*(out.length/2+1))\n            return \"Error: size does not match\";\n\n        if(this.mode='Cooley-Tukey'){\n\n        } else if(this.mode='Bluestein'){\n\n        } else return \"Error: unkown alg. \"+this.mode;\n\n        return  0;\n    }\n\n    //prepare radix-2\n    p_radix2(size){\n        // Trigonometric tables\n\t    this.cosTable = new Array(size / 2);\n\t    this.sinTable = new Array(size / 2);\n\t    for (var i = 0; i < size / 2; i++) {\n\t\t    this.cosTable[i] = Math.cos(2 * Math.PI * i / size);\n\t\t    this.sinTable[i] = Math.sin(2 * Math.PI * i / size);\n\t    }\n    }\n\n    //prepare bluestein\n    p_bluestein(size){\n        this.cosTable = new Array(size);\n\t    this.sinTable = new Array(size);\n\t    for (var i = 0; i < size; i++) {\n\t\t    var j = i * i % (size * 2);  \n\t\t    this.cosTable[i] = Math.cos(Math.PI * j / size);\n\t\t    this.sinTable[i] = Math.sin(Math.PI * j / size);\n\t    }\n    }\n\n    //perform radix 2 Cooley-Tukey DFT\n    radix2(data){\n        //radix 2\n        for (var i = 0; i < this.size; i++) {\n            var j = reverse_bits(i, levels);\n            if (j > i) {\n                var temp = real[i];\n                real[i] = real[j];\n                real[j] = temp;\n                temp = imag[i];\n                imag[i] = imag[j];\n                imag[j] = temp;\n            }\n        }\n\n        // Cooley-Tukey DFT\n\t    for (var size = 2; size <= this.size; size *= 2) {\n\t    \tvar halfsize = size / 2;\n\t    \tvar tablestep = this.size / size;\n\t    \tfor (var i = 0; i < this.size; i += size) {\n\t    \t\tfor (var j = i, k = 0; j < i + halfsize; j++, k += tablestep) {\n\t    \t\t\tvar l = j + halfsize;\n\t    \t\t\tvar tpre =  real[l] * this.cosTable[k] + imag[l] * this.sinTable[k];\n\t    \t\t\tvar tpim = -real[l] * this.sinTable[k] + imag[l] * this.cosTable[k];\n\t    \t\t\treal[l] = real[j] - tpre;\n\t    \t\t\timag[l] = imag[j] - tpim;\n\t    \t\t\treal[j] += tpre;\n\t    \t\t\timag[j] += tpim;\n\t    \t\t}\n\t    \t}\n        }   \n    }   \n}\n\n// Helper\n// reverse helper\nfunction reverse_bits(x, bits) {\n    var y = 0;\n    for (var i = 0; i < bits; i++) \n        y = (y << 1) | (x & 1), x >>>= 1;\n    return y;\n}\n\n//Array of zeros\nfunction new_array_0(n) {\n\tvar r = new Array(n);\n\tfor (var i = 0; i < n; i++)\n\t\tr[i] = 0.0;\n\treturn r;\n}\n\n//////////////////////////// END\n\n\n\nfunction fft_radix2(real, imag) {\n\t// Length variables\n\tvar n = real.length;\n\tif (n != imag.length)\n\t\tthrow \"Mismatched lengths\";\n\tif (n == 1)  // Trivial transform\n\t\treturn;\n\tvar levels = -1;\n\tfor (var i = 0; i < 32; i++) {\n\t\tif (1 << i == n)\n\t\t\tlevels = i;  // Equal to log2(n)\n\t}\n\tif (levels == -1)\n\t\tthrow \"Length is not a power of 2\";\n\t\n\t// Trigonometric tables\n\tvar cosTable = new Array(n / 2);\n\tvar sinTable = new Array(n / 2);\n\tfor (var i = 0; i < n / 2; i++) {\n\t\tcosTable[i] = Math.cos(2 * Math.PI * i / n);\n\t\tsinTable[i] = Math.sin(2 * Math.PI * i / n);\n\t}\n\t\n\t// Bit-reversed addressing permutation\n\tfor (var i = 0; i < n; i++) {\n\t\tvar j = reverseBits(i, levels);\n\t\tif (j > i) {\n\t\t\tvar temp = real[i];\n\t\t\treal[i] = real[j];\n\t\t\treal[j] = temp;\n\t\t\ttemp = imag[i];\n\t\t\timag[i] = imag[j];\n\t\t\timag[j] = temp;\n\t\t}\n\t}\n\t\n\t// Cooley-Tukey decimation-in-time radix-2 FFT\n\tfor (var size = 2; size <= n; size *= 2) {\n\t\tvar halfsize = size / 2;\n\t\tvar tablestep = n / size;\n\t\tfor (var i = 0; i < n; i += size) {\n\t\t\tfor (var j = i, k = 0; j < i + halfsize; j++, k += tablestep) {\n\t\t\t\tvar l = j + halfsize;\n\t\t\t\tvar tpre =  real[l] * cosTable[k] + imag[l] * sinTable[k];\n\t\t\t\tvar tpim = -real[l] * sinTable[k] + imag[l] * cosTable[k];\n\t\t\t\treal[l] = real[j] - tpre;\n\t\t\t\timag[l] = imag[j] - tpim;\n\t\t\t\treal[j] += tpre;\n\t\t\t\timag[j] += tpim;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\nfunction transformBluestein(real, imag) {\n\t// Find a power-of-2 convolution length m such that m >= n * 2 + 1\n\tvar n = real.length;\n\tif (n != imag.length)\n\t\tthrow \"Mismatched lengths\";\n\tvar m = 1;\n\twhile (m < n * 2 + 1)\n\t\tm *= 2;\n\t\n\t// Trignometric tables\n\tvar cosTable = new Array(n);\n\tvar sinTable = new Array(n);\n\tfor (var i = 0; i < n; i++) {\n\t\tvar j = i * i % (n * 2);  // This is more accurate than j = i * i\n\t\tcosTable[i] = Math.cos(Math.PI * j / n);\n\t\tsinTable[i] = Math.sin(Math.PI * j / n);\n\t}\n\t\n\t// Temporary vectors and preprocessing\n\tvar areal = newArrayOfZeros(m);\n\tvar aimag = newArrayOfZeros(m);\n\tfor (var i = 0; i < n; i++) {\n\t\tareal[i] =  real[i] * cosTable[i] + imag[i] * sinTable[i];\n\t\taimag[i] = -real[i] * sinTable[i] + imag[i] * cosTable[i];\n\t}\n\tvar breal = newArrayOfZeros(m);\n\tvar bimag = newArrayOfZeros(m);\n\tbreal[0] = cosTable[0];\n\tbimag[0] = sinTable[0];\n\tfor (var i = 1; i < n; i++) {\n\t\tbreal[i] = breal[m - i] = cosTable[i];\n\t\tbimag[i] = bimag[m - i] = sinTable[i];\n\t}\n\t\n\t// Convolution\n\tvar creal = new Array(m);\n\tvar cimag = new Array(m);\n\tconvolveComplex(areal, aimag, breal, bimag, creal, cimag);\n\t\n\t// Postprocessing\n\tfor (var i = 0; i < n; i++) {\n\t\treal[i] =  creal[i] * cosTable[i] + cimag[i] * sinTable[i];\n\t\timag[i] = -creal[i] * sinTable[i] + cimag[i] * cosTable[i];\n\t}\n}\n\n\n/* \n * Computes the circular convolution of the given real vectors. Each vector's length must be the same.\n */\nfunction convolveReal(x, y, out) {\n\tvar n = x.length;\n\tif (n != y.length || n != out.length)\n\t\tthrow \"Mismatched lengths\";\n\tconvolveComplex(x, newArrayOfZeros(n), y, newArrayOfZeros(n), out, newArrayOfZeros(n));\n}\n\n\n/* \n * Computes the circular convolution of the given complex vectors. Each vector's length must be the same.\n */\nfunction convolveComplex(xreal, ximag, yreal, yimag, outreal, outimag) {\n\tvar n = xreal.length;\n\tif (n != ximag.length || n != yreal.length || n != yimag.length\n\t\t\t|| n != outreal.length || n != outimag.length)\n\t\tthrow \"Mismatched lengths\";\n\t\n\txreal = xreal.slice();\n\tximag = ximag.slice();\n\tyreal = yreal.slice();\n\tyimag = yimag.slice();\n\ttransform(xreal, ximag);\n\ttransform(yreal, yimag);\n\t\n\tfor (var i = 0; i < n; i++) {\n\t\tvar temp = xreal[i] * yreal[i] - ximag[i] * yimag[i];\n\t\tximag[i] = ximag[i] * yreal[i] + xreal[i] * yimag[i];\n\t\txreal[i] = temp;\n\t}\n\tinverseTransform(xreal, ximag);\n\t\n\tfor (var i = 0; i < n; i++) {  // Scaling (because this FFT implementation omits it)\n\t\toutreal[i] = xreal[i] / n;\n\t\toutimag[i] = ximag[i] / n;\n\t}\n}\n\n\n","/* Tabular Rasa JS Data Functions\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa/math\n*/\n\nimport * as stat from \"./stat/index\";\nimport * as filter from \"./filter/index\";\n//import * as func from \"./func\"\nimport * as solver from \"./solver/index\";\nimport * as plot from \"./plot\"\n\nclass Func{\n    constructor(Str, Func){\n        this.str = Str;\n        this.func = Func;\n    }\n\n    toString() {\n        return this.str;\n    }\n\n    calc(args){\n        this.func.apply(this,args)\n    }\n\n    seq(start,end,step=1,offset=0){\n        if (end == undefined)\n            end = start,start = 0;\n        var a = new Array(end-start+offset);\n        for(var i=0; i<offset; i++)\n            a[i] = undefined;\n        for(; i<end-start+offset; i++)\n            a[i] = this.func(start + i*step);\n        return a; \n    }\n};\n\nfunction seq(start,end,step=1){\n    if (end == undefined)\n        end = start,start = 0;\n    var a = new Array(end-start);\n    for(var i=0; i<end-start; i++)\n        a[i] = start + i*step;\n    return a;\n}\n\n\nexport {\n    Func,\n    seq,\n    stat,\n    filter,\n    solver,\n    plot\n};","/* Tabular Rasa JS Math Statistics\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module math/plot\n*/\n\nif(Chart){\n    const xMarkerPlugin = {\n        get_x_pos: function (chart, idx) {\n            const meta = chart.getDatasetMeta(0); \n            const data = meta.data;\n            return data[idx]._model.x;\n        },\n        draw_line: function (chart, marker) {\n            const xoffset = this.get_x_pos(chart, marker.idx);\n            const scale = chart.scales['y-axis-0'];\n            const context = chart.chart.ctx;\n      \n            // render vertical line\n            context.beginPath();\n            context.strokeStyle = marker.color;\n            context.lineWidth = 2.0;\n            context.moveTo(xoffset, scale.top+20);\n            context.lineTo(xoffset, scale.bottom);\n            context.stroke();\n      \n            // write label\n            context.fillStyle = marker.color;\n            context.textAlign = 'center';\n            context.fillText(marker.title, xoffset, scale.top+10);\n        },\n      \n        afterDatasetsDraw: function (chart, easing) {\n            if (chart.config.xMarker) {\n                chart.config.xMarker.forEach( marker => this.draw_line(chart, marker));\n            }\n        }\n    };\n    \n    const yMarkerPlugin = {\n        draw_line: function (chart, marker) {\n            const xscale = chart.scales['x-axis-0'];\n            const yscale = chart.scales[\"y-axis-0\"];\n            const context = chart.chart.ctx;\n      \n            var y_value = yscale.getPixelForValue(marker.value);\n\n            // render vertical line\n            context.beginPath();\n            context.strokeStyle = marker.color;\n            context.moveTo(xscale.left,y_value);\n            context.lineTo(xscale.right,y_value);\n            context.stroke();\n      \n            // write label\n            context.fillStyle = marker.color;\n            context.textAlign = 'left';\n            context.fillText(marker.title, xscale.left+5, y_value + 10);\n        },\n      \n        afterDatasetsDraw: function (chart, easing) {\n            if (chart.config.yMarker) {\n                chart.config.yMarker.forEach( marker => this.draw_line(chart, marker));\n            }\n        }\n    };\n\n    Chart.plugins.register(xMarkerPlugin);\n    Chart.plugins.register(yMarkerPlugin);\n}\n\nclass Plot {\n    constructor(name,args){\n        this.name = name\n\n        this.data = {\n            labels: [],\n            datasets: [],\n        }\n\n        this.xmarker = [];\n        this.ymarker = [];\n    }\n\n    clear() {\n        if(this.chart)\n            this.chart.destroy();\n        this.data.datasets = []; \n        this.xmarker = [];\n        this.ymarker = [];\n    }\n\n    x(data) {\n        this.data.labels = data;\n    }\n\n    fline(data, label, color=\"#af5431\", fcolor = \"#c45850\") {\n        if(label == undefined) label = \"Plot \"+this.data.datasets.length;\n        this.data.datasets.push({\n            type: 'line',\n            label: label,\n            data: data,\n            color: fcolor,\n            borderColor: color,\n            fill: true,\n        });\n    } \n\n    line(data, label, color = \"#af5431\") {\n        if(label == undefined) label = \"Plot \"+this.data.datasets.length;\n        this.data.datasets.push({\n            type: 'line',\n            label: label,\n            data: data,\n            borderColor: color,\n            fill: false,\n        });\n    }    \n\n    draw(target) {\n        \n        var ctx = document.getElementById(target);\n        this.chart = new Chart(ctx,{\n            type: 'line', \n            data: this.data,\n            options: { \n                responsive: true,\n                maintainAspectRatio: true\n            },\n            xMarker: this.xmarker,\n            yMarker: this.ymarker\n        });\n        return this.chart;\n    }\n\n    x_marker(idx, title, color = \"#c45850\") {\n        this.xmarker.push({\n            idx: idx, \n            title: title, \n            color: color \n        });\n    }\n\n    y_marker(value, title, color = \"#c45850\") {\n        this.ymarker.push({\n            value: value, \n            title: title, \n            color: color \n        });\n    }\n}\n\nexport {\n    Plot\n}","\n\nclass NewtonSolver{\n    constructor(df){\n        this.df = df;\n    }\n\n    run(X0,n) {\n        var len = X0.length,\n            data = new Array();\n        data[0]=X0;\n\n        for(var i=1; i<n; i++){\n            var d = new Array(len);\n            for(var j=0; j<len; j++){\n                d[j] = data[i-1][j]+this.df[j].call(this,data[i-1]);\n            }\n            data.push(d);\n        }\n\n        return data;\n    }\n}","/* Tabular Rasa JS Math Bernoulli Distribution\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module math/stat/bernoulli\n*/\n\n\nexport function pdf(k,p=0.5) {\n    if (k == 0) return 1 - p\n    else if (k == 1) return p\n    else return 0;\n}\n\nexport function cdf(k,p=0.5) {\n    if (k >= 1) return 1;\n    else if (k <= 0) return 0;\n    else return 1-p;\n}\n\nexport function quantile() {\n    return NaN\n}\n\nexport function expected(p=0.5){\n    return p;\n}\n\nexport function variance(p=0.5){\n    return Math.sqrt(p*(1-p));\n}","/* Tabular Rasa JS Math Statistics F Distribution\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module math/stat/binomial\n*/\n\nexport function choose(n, k) {\n    if (k > n) \n        return NaN;\n    else {\n        let r = 1;\n        for (let i = 1; i <= k; i++) {\n            r *= n--;\n            r /= i;\n        }\n        return r\n    }\n};\n\nexport function pdf(k, n, p) {\n    if (k < 0 || k > n) return 0\n    else {\n        if (p == 0) \n            return (k == 0) ? 1 : 0;\n        else if (p == 1) \n            return( k == n) ? 1 : 0;\n        else {\n            let c = choose(n, k);\n            let pows = Math.pow(p, k) * Math.pow((1-p), (n-k));\n            if (c == 'Infinity') {\n                if (pows == 0) return 0\n                else return c;\n            } else {\n                return c * pows;\n            }\n        }\n    };\n}\n\nexport function cdf(k, n, p) {\n    if (k < 0) return 0.0;\n    else if (n < k) return 1.0;\n    else \n        return Array.apply( null, \n            Array(Math.floor(k) + 1) ).map( (_, i) => {\n                return choose(n, i) * Math.pow(p, i) \n                    * Math.pow(1 - p, n - i);\n            }).reduce( (prev, next) => prev + next, 0 );\n}\n\nexport function quantile(u,n,p) {\n    let k,kl,ku,inc=1;\n\tif (u <= 0. || u >= 1.) return NaN;\n\tk = Math.max(0,Math.min(n,(Int)(n*pe)));\n\tif (p < cdf(k)) {\n\t\tdo {\n\t\t\tk = Math.max(k-inc,0);\n\t\t\tinc *= 2;\n\t\t} while (p < cdf(k));\n\t\tkl = k; ku = k + inc/2;\n\t} else {\n\t\tdo {\n\t\t\tk = Math.min(k+inc,n+1);\n\t\t\tinc *= 2;\n\t\t} while (p > cdf(k));\n\t\tku = k; kl = k - inc/2;\n\t}\n\twhile (ku-kl>1) {\n\t\tk = (kl+ku)/2;\n\t\tif (p < cdf(k)) ku = k;\n\t\telse kl = k;\n\t}\n\treturn kl;\n}\n\nexport function expected(n,p){\n    return n*p;\n}\n\nexport function variance(n,p){\n    return Math.sqrt(n*p*(1-p));\n}","/* Tabular Rasa JS Math Statistics Chi Squared Distribution\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module math/stat/chi_squared\n*/\n\nimport {lngamma, gamma_inc_lower,inv_gamma_inc_lower} from \"../gamma\";\n\n\n\nexport function pdf(x, n=1) {\n    if (x < 0) \n        return 0\n    else if (n == 2) \n        return Math.exp(-x / 2) / 2\n    else {\n        return Math.exp( (n / 2 - 1) * \n            Math.log(x / 2) - x / 2 - (lngamma(n/2))) / 2;\n    }\n}\n\nexport function cdf(x, n=1) {\n    if (x < 0) return 0.0\n    else if (n == 2) return 1 - Math.exp(-x / 2)\n    else return gamma_inc_lower(n / 2, x / 2)\n}\n\nexport function quantile(u,n=1) {\n    if (p < 0. || p >= 1.) return NaN;\n\treturn 2.*inv_gamma_inc_lower(u,0.5*n);\n}\n\nexport function expected(n=1){\n    return n;\n}\n\nexport function variance(n=1){\n    return 2*n;\n}","/* Tabular Rasa JS Math Statistics Gamma Function\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module math/stat/gamma\n*/\n\nconst EPS = Number.EPSILON;\nconst FPMIN = Number.MIN_VALUE/EPS;\n\n//https://en.wikipedia.org/wiki/Lanczos_approximation\nconst p = [\n    676.5203681218851\n    ,-1259.1392167224028\n    ,771.32342877765313\n    ,-176.61502916214059\n    ,12.507343278686905\n    ,-0.13857109526572012\n    ,9.9843695780195716e-6\n    ,1.5056327351493116e-7\n];\n\n\nexport function gamma(z){\n    if (z < 0.5)\n        return Math.PI / (Math.sin(Math.PI*z) * gamma(1-z))  // Reflection formula\n    else if(z > 100) \n        return Math.exp(lngamma(z)); // https://github.com/substack/gamma.js/blob/master/index.js\n    else {\n        z -= 1;\n        var h = 0.99999999999980993;\n        for (var i = 0; i < 8; i++) \n            h += p[i] / (z + i);\n        var h2 = z + g + 0.5;\n        return Math.sqrt(2 * Math.PI) * Math.pow(h2, z + 0.5)\n            * Math.exp(-h2) * h;\n    }\n}\n   \n// https://github.com/substack/gamma.js/blob/master/index.js\nconst p_ln = [\n    57.156235665862923517,\n    -59.597960355475491248,\n    14.136097974741747174,\n    -0.49191381609762019978,\n    0.33994649984811888699e-4,\n    0.46523628927048575665e-4,\n    -0.98374475304879564677e-4,\n    0.15808870322491248884e-3,\n    -0.21026444172410488319e-3,\n    0.21743961811521264320e-3,\n    -0.16431810653676389022e-3,\n    0.84418223983852743293e-4,\n    -0.26190838401581408670e-4,\n    0.36899182659531622704e-5\n];\n\nexport function lngamma(z) {\n    if(z < 0) return NaN; \n    var h = 0.99999999999999709182;\n    for(var i = 0; i < 14; i++) \n        h += p_ln[i] / (z + i);\n    var h2 = z + 607/128 + 0.5;\n    return 0.5 * Math.log(2*Math.PI)\n        +(z+.5)*Math.log(h2)-\n        h2+Math.log(h)-Math.log(z);\n}\n\n\n// https://github.com/lh3/samtools/tree/master/bcftools\n\nexport  function gamma_inc_lower(s, z) {\n    let sum = 1, h = 1;\n    for (var i = 1; i < 100; i++) {\n      sum += (h *= z / (s + i));\n      if (x / sum < EPS) break;\n    };\n    return Math.exp(s * Math.log(z) - z \n        - lngamma(s + 1) + Math.log(sum));\n};\n\nexport function inv_gamma_inc_lower(p, a) {\n    let j, x,err,t,u,pp,lna1,afac,a1=a-1;\n\tgln=lngamma(a);\n\tif (a <= 0.) return NaN;\n\tif (p >= 1.) return Math.max(100.,a + 100.*Math.sqrt(a));\n\tif (p <= 0.) return 0.0;\n\tif (a > 1.) {\n\t\tlna1=Math.log(a1);\n\t\tafac = Math.exp(a1*(lna1-1.)-gln);\n\t\tpp = (p < 0.5)? p : 1. - p;\n\t\tt = Math.sqrt(-2.*Math.log(pp));\n\t\tx = (2.30753+t*0.27061)/(1.+t*(0.99229+t*0.04481)) - t;\n\t\tif (p < 0.5) x = -x;\n\t\tx = Math.max(1.e-3,a*Math.pow(1.-1.0/(9.*a)-x/(3.*Math.sqrt(a)),3));\n\t} else {\n\t\tt = 1.0 - a*(0.253+a*0.12);\n\t\tif (p < t) x = Math.pow(p/t,1./a);\n\t\telse x = 1.-Math.log(1.-(p-t)/(1.-t));\n\t}\n\tfor (j=0;j<12;j++) {\n\t\tif (x <= 0.0) return 0.0;\n\t\terr = gamma_inc_lower(x,a) - p;\n\t\tif (a > 1.) t = afac*Math.exp(-(x-a1)+a1*(Math.log(x)-lna1));\n\t\telse t = Math.exp(-x+a1*Math.log(x)-gln);\n\t\tu = err/t;\n\t\tx -= (t = u/(1.-0.5*Math.min(1.,u*((a-1.)/x - 1))));\n\t\tif (x <= 0.) x = 0.5*(x + t);\n\t\tif (Math.fabs(t) < EPS*x ) break;\n\t}\n\treturn x;\n}\n","/* Tabular Rasa JS Math Statistics\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module math/stat\n*/\n\nimport {Func} from \"../index\";\nimport * as bernoulli from './distributions/bernoulli';\nimport * as binomial from './distributions/binomial';\nimport * as chi_squared from './distributions/chi_squared';\n\nconst tau = 2.0 * Math.PI;\nconst sqrt2 = Math.sqrt(2.0);\nconst s2pi = Math.sqrt(tau);\nconst is2pi = 1.0/s2pi;\n\n\n\nexport function erf(x) {\n    if( x > 0 )\n        return 1-1/(1+0.278393*x+0.230389*x^2+0.000972*x^3+0.078108*x^4)^4;\n    else if( x < 0 )\n        return -1+1/(1-0.278393*x+0.230389*x^2-0.000972*x^3+0.078108*x^4)^4;\n    else\n        return 0.0;\n};\n\nexport function cnorm(x, mu=0.0, sig=1.0) {\n    return 0.5*(1+erf((x-mu)/sig/sqrt2))\n}\n\nexport function norm(x, mu=0.0, sig=1.0) {\n    return is2pi/sig*Math.exp(-0.5*((x-mu)/sig)^2);\n}\n\nexport function boxmullerrand() {\n    var u = 0, v = 0;\n    while(u === 0) u = Math.random(); \n    while(v === 0) v = Math.random();\n    return Math.sqrt( -2.0 * Math.log( u ) ) \n        * Math.cos( tau * v );\n}\n\nexport var dnorm = norm;\nexport var pnorm = cnorm;\nexport function rnorm(mu=0.0, sig=1.0) {\n    return mu + sig * boxmullerrand();\n}\n\n//export qnorm() = //quartile function\n\n\n\n\n\nexport function floating_mean(Data, n) {\n    var r = new Array(Data.length);\n    var t = Math.floor((n-1)/2);\n    for(var i = 0; i<t; i++)\n        r[i] = undefined;\n    for(; i<Data.length-t; i++){\n        //calc mean\n        var m = 0;\n        for(var j=i-t; j<i+n-t; j++)\n            m += Data[j];\n        r[i] = m/n;\n    }\n    return r;\n}\n\nexport function chi_squared_value(X,Y, offset=0, length) {\n    if(!length) length = X.length;\n    var sum=0.0, h, n=0;\n    for(var i = offset; i < length; i++){\n        if(X[i] && Y[i]){\n            h=X[i]-Y[i];\n            sum += h*h/Y[i];\n            n++;\n        }\n    }\n    return {chi2: sum, df: n-1};\n}\n\n\nexport function linear_regression(X,Y,offset=0, length){\n    var xm=0, ym=0, sx=0, sx2, sy=0, sxy=0, h, g, n=0;\n    if(!length) length = X.length;\n    for(var i = offset; i < length; i++){\n        if(X[i] && Y[i]){\n            g = X[i];\n            xm += g;\n            sx += g*g;\n            h = Y[i];\n            ym += h;\n            sy += h*h;\n            sxy += h*g;\n            n++;\n        }\n    }\n    xm /= n;\n    ym /= n;\n\n    sx2 = sx;\n    sx = sx/n-xm*xm;\n    sy = sy/n-ym*ym;\n    sxy = sxy/n-xm*ym;\n\n    var a = sxy / sx, b = ym - sxy / sx * xm;\n    var err = 0.0, hh;\n    for(var i = offset; i < length; i++){\n        if(X[i] && Y[i]){\n            g = X[i];\n            h = Y[i];\n            hh = b + g * a;\n            h = (h - hh);\n            err += h*h;\n        }\n    }\n    err = Math.sqrt(err/(n-2));\n\n    var f = new Func(\"f(x)=\"+a.toFixed(2)+\"*x+\"+b.toFixed(2),function(x) {return a*x+b;});\n    f.a = a;\n    f.b = b;\n    f.err = err;\n    f.err_a = err*err/sx*n;\n    f.err_b = err*err*sx2/(n*n*sx);\n    return f;\n}\n\nexport function exponential_regression(X, Y, offset=0, length){\n    var xm=0, ym=0, sx=0, sx2, sy=0, sxy=0, h, g, n=0;\n    if(!length) length = X.length;\n    for(var i = offset; i < length; i++){\n        if(typeof X[i] == \"number\" && Y[i]){\n            g = X[i];\n            xm += g;\n            sx += g*g;\n            h = Y[i];\n            h = (0.0==h)?0.0 : Math.log(h);\n            ym += h;\n            sy += h*h;\n            sxy += h*g;\n            n++;\n        }\n    }\n    xm /= n;\n    ym /= n;\n\n    sx2 = sx;\n    sx = sx/n-xm*xm;\n    sy = sy/n-ym*ym;\n    sxy = sxy/n-xm*ym;\n\n    var a = sxy / sx, b = ym - sxy / sx * xm;\n    var err = 0.0, hh;\n    for(var i = offset; i < length; i++){\n        if(X[i] && Y[i]){\n            g = X[i];\n            h = Y[i];\n            h = (0.0==h)?0.0 : Math.log(h);\n            hh = b + g * a;\n            h = (h - hh);\n            err += h*h;\n        }\n    }\n    err = Math.sqrt(err/(n-2));\n\n    a = Math.exp(a), b = Math.exp(b);\n    var f = new Func(\"f(x)=(\"+b.toFixed(2)+\")*(\"+a.toFixed(2)+\")^x\",function(x) {return b*Math.pow(a,x);});\n    f.a = a;\n    f.b = b;\n    f.err = err;\n    f.err_a = f.a*(err*err/sx*n);\n    f.err_b = f.b*(err*err*sx2/(n*n*sx));\n    return f;\n}\n\n\nexport {\n\n\n    // Distributions\n    bernoulli,\n    binomial,\n    chi_squared\n};","// extracted by mini-css-extract-plugin","/* Tabular Rasa JS\n** Copyright (c) 2018-2020 Benjamin Benno Falkner\n**\n** Permission is hereby granted, free of charge, to any person obtaining a copy\n** of this software and associated documentation files (the \"Software\"), to deal\n** in the Software without restriction, including without limitation the rights\n** to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n** copies of the Software, and to permit persons to whom the Software is\n** furnished to do so, subject to the following conditions:\n**\n** The above copyright notice and this permission notice shall be included in all\n** copies or substantial portions of the Software.\n**\n** THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n** FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n** AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n** LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n** OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n** SOFTWARE.\n*/\n\n/** \n* @module tabularrasa\n*/\n\nimport \"./scss/simple.scss\";\nimport * as dox from \"./dox/index\";\nimport * as data from \"./data/index\";\nimport * as io from \"./io/index\";\nimport * as math from \"./math/index\";\n\nexport {\n    dox,\n    data,\n    io,\n    math\n}"],"sourceRoot":""}